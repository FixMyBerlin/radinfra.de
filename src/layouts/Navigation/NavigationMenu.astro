---
import MenuItem from './MenuItem/MenuItem.astro'
import MenuItemPosts from './MenuItem/MenuItemPosts.astro'
import MenuItemWrapper from './MenuItem/MenuItemWrapper.astro'

const { pathname: currentPathname } = Astro.url
const isMitmachen = currentPathname.startsWith('/mitmachen')
---

<MenuItemWrapper>
  <MenuItem href="/" highlightExactMatch>Einleitung</MenuItem>
  <MenuItem href="/statistik">Statistische Auswertung</MenuItem>
  <MenuItemPosts />
</MenuItemWrapper>

<MenuItemWrapper>
  <MenuItem href="/mitmachen">Mitmachen</MenuItem>
  {
    isMitmachen && (
      <>
        <MenuItem href="/mitmachen/fotos" highlightExactMatch indentation={2}>
          Fotos
        </MenuItem>
        <MenuItem href="/mitmachen/streetcomplete" highlightExactMatch indentation={2}>
          StreetComplete
        </MenuItem>
        <MenuItem href="/mitmachen/mappen" highlightExactMatch indentation={2}>
          Mappen
        </MenuItem>
        <MenuItem href="/mitmachen/hinweise" highlightExactMatch indentation={2}>
          Hinweise
        </MenuItem>
      </>
    )
  }
  <MenuItem href="/kampagnen">Kampagnen</MenuItem>
  <MenuItem href="/kontakt">Community-Kontakt</MenuItem>
</MenuItemWrapper>

<MenuItemWrapper>
  <MenuItem href="/partner">Ãœber radinfra.de / Partner</MenuItem>
  <MenuItem href="/angebote">Angebote Kommunen</MenuItem>
</MenuItemWrapper>
